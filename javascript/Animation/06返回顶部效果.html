<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>06返回顶部效果</title>
	<style>
		.totop{display:none;position: fixed;right:5px;bottom:5px;background-color: #58bc58;color:#fff;padding:15px;}
	</style>
	<script>
		for(let i=0;i<1000;i++){
			document.write(`<p>我叫你${i}声逗比你敢答应吗？</p>`);
		}

		document.addEventListener("DOMContentLoaded",()=>{
			/*
				缓冲运动：
					一开始速度很快，然后慢下来，直到停止
				返回顶部效果
					* 滚动到1200px时，显示返回顶部按钮
					* 点击按钮返回顶部

			 */
			let totop = document.querySelector('.totop');

			window.onscroll = ()=>{
				let scrollTop = window.scrollY;

				if(scrollTop > 1200){
					totop.style.display = 'block';
				}else{
					totop.style.display = 'none';
				}
			}


			// 点击按钮返回顶部
			// window.scrollTo()
			totop.onclick = ()=>{
				// let speed = -100;
				// let timer = setInterval(()=>{
				// 	speed--;
				// 	if(window.scrollY === 0){
				// 		clearInterval(timer);
				// 	}

				// 	window.scrollBy(0,speed);
				// })

				// 获取当前滚动到的位置
				

				let speed = 10;

				let timer = setInterval(()=>{
					let scrollTop = window.scrollY;//2000=>1800=>1620


					// 计算速度(关键)
					// 这是一个可变的速度
					speed = Math.ceil(scrollTop/10);

					scrollTop -= speed;

					// 当滚动到
					if(scrollTop <= 10){
						clearInterval(timer);
					}
					window.scrollTo(0,scrollTop);
				},30);

			}
		});
	</script>
</head>
<body>
	<div class="totop">Top</div>
</body>
</html>